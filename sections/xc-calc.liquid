{{ 'xc-calc.css' | asset_url | stylesheet_tag }}
<div class="section section--page-width">

    <div class="calc__wrapper">
        <div class="calc__left">
            <div class="calc__title">
                {{ section.settings.title }}
            </div>
            <form id="auto-calculator" class="calc__form">
                <div class="calc__form-group">
                <div class="calc__dropdown">
                    <div class="calc__dropdown-container">
                        <span class="calc__dropdown-title">Тип транспортного засобу</span>
                        <span class="calc__dropdown-toggle">Оберіть</span>
                        <div class="calc__dropdown-list-container">
                            <input type="hidden" class="calc__input" name="vehicle-type" value="">
                            <input type="hidden" class="calc__input" name="price-for-transportation" value="">
                            <ul class="calc__dropdown-list">
                                <li class="calc__type-transport-li" data-value="1" data-price-transport="900">Легковик</li>
                                <li class="calc__type-transport-li" data-value="1" data-price-transport="950">Кросовер</li>
                                <li class="calc__type-transport-li" data-value="1" data-price-transport="1000">Позашляховик</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="calc__dropdown">
                    <div class="calc__dropdown-container">
                        <span class="calc__dropdown-title">Рік випуску</span>
                        <span class="calc__dropdown-toggle">Оберіть</span>
                        <div class="calc__dropdown-list-container">
                            <input type="hidden" class="calc__input" name="year" value="">
                            <ul class="calc__dropdown-list">
                                {% for year in (2000..2025) reversed %}
                                    <li data-value="{{ year }}">{{ year }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
                </div>
               
                <div class="calc__form-group">
                <div class="calc__dropdown calc__dropdown--motor">
                    <div class="calc__dropdown-container">
                        <span class="calc__dropdown-title">Тип двигуна</span>
                        <span class="calc__dropdown-toggle calc__dropdown-toggle--motor calc__dropdown-toggle--selected">Бензиновий</span>
                        <div class="calc__dropdown-list-container">
                            <input type="hidden" class="calc__input" name="motor" value="0">
                            <ul class="calc__dropdown-list" data-list="motor">
                                <li data-id="motor-0-0" data-value="0">Бензиновий</li>
                                <li data-id="motor-1-1" data-value="1">Дизельний</li>
                                <li data-id="motor-0-2" data-value="0">Гібрид (бензин)</li>
                                <li data-id="motor-0-3" data-value="0">Гібрид (дизель)</li>
                                <li data-id="motor-3-4" data-value="3">Електро</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="calc__dropdown">
                    <div class="calc__dropdown-container">
                        <span class="calc__dropdown-title">Об'єм двигуна</span>
                        <div class="calc__input-container">
                            <input type="text" autocomplete="off" class="calc__dropdown-toggle calc__capacity-toggle" name="capacity-toggle-input" value="" id="capacity-toggle-input" placeholder="Оберіть">
                            <span class="calc__error-msg">Невірне значення</span>
                        </div>
                        <div class="calc__dropdown-list-container">
                            <input type="hidden" class="calc__input" name="capacity" value="">
                            <ul class="calc__dropdown-list calc__dropdown-list--capacity">
                                {% assign capacities = '0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.0,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.0,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9,4.0,4.1,4.2,4.3,4.4,4.5,4.6,4.7,4.8,4.9,5.0,5.1,5.2,5.3,5.4,5.5,5.6,5.7,5.8,5.9,6.0,6.1,6.2,6.3,6.4,6.5,6.6,6.7,6.8,6.9,7.0,7.1,7.2,7.3,7.4,7.5,7.6,7.7,7.8,7.9,8.0,8.1,8.2,8.3,8.4,8.5,8.6,8.7,8.8,8.9,9.0,9.1,9.2,9.3,9.4,9.5,9.6,9.7,9.8,9.9,10.0' | split: ',' %}
                                {% for cap in capacities %}
                                    <li class="calc__capacity-toggle-li" data-value="{{ cap }}">{{ cap }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
                </div>
                <div class="calc__form-group">
                <div class="calc__range">
                    <label for="battery_volume">Об'єм батареї</label>
                    <input type="number" onmousewheel="return false;" onwheel="return false;" autocomplete="off" name="battery_volume" id="battery-volume" class="calc__battery-volume calc__input calc__input--disabled" step="1" min="10" placeholder="Оберіть" disabled>
                </div>

                <div class="calc__price">
                    <label for="cost">Вартість ($)</label>
                    <input type="number" onmousewheel="return false;" onwheel="return false;" autocomplete="off" name="cost" id="cost" class="calc__cost calc__input" step="1" min="10" placeholder="USD">
                </div>
                </div>
                <div class="calc__form-group">

                <div class="calc__dropdown">
                    <div class="calc__dropdown-container">
                        <span class="calc__dropdown-title">Аукціонний збір:</span>
                        <span class="calc__dropdown-toggle calc__dropdown-toggle--selected">Сopart</span>
                        <div class="calc__dropdown-list-container">
                            <input type="hidden" class="calc__input" name="auction-fee" value="10">
                            <input type="hidden" class="calc__input" name="auction-min" value="260">
                            <ul class="calc__dropdown-list">
                                <li class="calc__auction-item" data-auction-min="260" data-auction-fee="10">Сopart</li>
                                <li class="calc__auction-item" data-auction-min="320" data-auction-fee="15">IAAI</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="calc__dropdown">
                    <div class="calc__dropdown-container">
                        <span class="calc__dropdown-title">Доставка по США:</span>
                        <div class="calc__input-container">
                            <input type="text" autocomplete="off" class="calc__dropdown-toggle calc__dropdown-toggle--selected" placeholder="Оберіть" name="delivery_usa_input_autocomplete" value="">
                            <span class="calc__error-msg">Невірне значення</span>
                        </div>
                        <div class="calc__dropdown-list-container">
                            <input type="hidden" class="calc__input" name="delivery_in_the_usa" value="550">
                            <input type="hidden" class="calc__input" name="delivery_from_the_usa" value="Abilene,HOU">
                            {% comment %} <ul class="calc__dropdown-list calc__dropdown-list--delivery">
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="Abilene,HOU" data-c="550">Abilene-HOU</li>
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="Adelanto,LA" data-c="475">Adelanto-LA</li>
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="Albany,NY" data-c="450">Albany-NY</li>
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="Albuquerque,HOU" data-c="750">Albuquerque-HOU</li>
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="Houston,HOU" data-c="300">Houston-HOU</li>
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="Los Angeles,LA" data-c="375">Los Angeles-LA</li>
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="New York,NY" data-c="400">New York-NY</li>
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="Miami,MIA" data-c="325">Miami-MIA</li>
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="Seattle,SEATLE" data-c="400">Seattle-SEATLE</li>
                                <li class="calc__delivery-item calc__delivery-item--copart" data-location="Chicago,CHI" data-c="325">Chicago-CHI</li>
                                <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Abilene,HOU" data-c="550">Abilene-HOU</li>
                                <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Los Angeles,LA" data-c="375">Los Angeles-LA</li>
                                <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="New York,NY" data-c="400">New York-NY</li>
                                <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Miami,MIA" data-c="325">Miami-MIA</li>
                            </ul> {% endcomment %}
                            <ul class="calc__dropdown-list calc__dropdown-list--delivery">
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Glassboro,NJ" data-c="250">Glassboro-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Somerville,NJ" data-c="225">Somerville-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Trenton,NJ" data-c="250">Trenton-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Altoona,NJ" data-c="450">Altoona-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Chambersburg,NJ" data-c="375">Chambersburg-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Harrisburg ,NJ" data-c="325">Harrisburg -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Philadelphia ,NJ" data-c="275">Philadelphia -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Philadelphia East-Sublot,NJ" data-c="275">Philadelphia East-Sublot-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Pittsburgh ,NJ" data-c="475">Pittsburgh -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="North Pittsburgh ,NJ" data-c="475">North Pittsburgh -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="South Pittsburgh ,NJ" data-c="475">South Pittsburgh -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="West Scranton ,NJ" data-c="325">West Scranton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="York Haven,NJ" data-c="325">York Haven-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Baltimore ,NJ" data-c="325">Baltimore -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Baltimore East ,NJ" data-c="350">Baltimore East -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Washington DC ,NJ" data-c="350">Washington DC -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Freetown ,NJ" data-c="375">Freetown -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="North Boston ,NJ" data-c="375">North Boston -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="South Boston ,NJ" data-c="375">South Boston -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="West Warren ,NJ" data-c="375">West Warren -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Hartford ,NJ" data-c="300">Hartford -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Hartford Springfield ,NJ" data-c="325">Hartford Springfield -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Seaford ,NJ" data-c="325">Seaford -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Chicago North,NJ" data-c="625">Chicago North-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Chicago South,NJ" data-c="600">Chicago South-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Peoria ,NJ" data-c="650">Peoria -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Southern Illinois (East St. Louis) ,NJ" data-c="625">Southern Illinois (East St. Louis) -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Wheeling ,NJ" data-c="625">Wheeling -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Cicero,NJ" data-c="600">Cicero-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Dyer ,NJ" data-c="600">Dyer -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Fort Wayne ,NJ" data-c="625">Fort Wayne -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Indianapolis ,NJ" data-c="625">Indianapolis -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Davenport ,NJ" data-c="650">Davenport -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Des Moines ,NJ" data-c="700">Des Moines -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Lyman ,NJ" data-c="500">Lyman -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Detroit ,NJ" data-c="600">Detroit -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Flint ,NJ" data-c="625">Flint -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Ionia ,NJ" data-c="625">Ionia -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Lansing ,NJ" data-c="600">Lansing -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Minneapolis ,NJ" data-c="700">Minneapolis -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Minneapolis North ,NJ" data-c="700">Minneapolis North -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Saint Cloud ,NJ" data-c="700">Saint Cloud -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Candia ,NJ" data-c="400">Candia -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Albany ,NJ" data-c="325">Albany -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Buffalo ,NJ" data-c="525">Buffalo -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Long Island x,NJ" data-c="300">Long Island x-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Long Island ,NJ" data-c="300">Long Island -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Newburgh ,NJ" data-c="475">Newburgh -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Rochester ,NJ" data-c="400">Rochester -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Syracuse ,NJ" data-c="525">Syracuse -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Cleveland East,NJ" data-c="500">Cleveland East-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Cleveland West,NJ" data-c="500">Cleveland West-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Columbus ,NJ" data-c="525">Columbus -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Dayton ,NJ" data-c="350">Dayton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Exeter ,NJ" data-c="550">Exeter -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Burlington ,NJ" data-c="500">Burlington -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Danville ,NJ" data-c="400">Danville -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Fredericksburg ,NJ" data-c="425">Fredericksburg -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Hampton ,NJ" data-c="400">Hampton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Richmond ,NJ" data-c="400">Richmond -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Richmond East ,NJ" data-c="475">Richmond East -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Charleston ,NJ" data-c="700">Charleston -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Appleton ,NJ" data-c="700">Appleton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Madison ,NJ" data-c="650">Madison -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Madison South ,NJ" data-c="650">Madison South -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Milwaukee ,NJ" data-c="675">Milwaukee -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Milwaukee North,NJ" data-c="675">Milwaukee North-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Earlington ,GA" data-c="575">Earlington -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Lexington East ,GA" data-c="575">Lexington East -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Lexington West ,GA" data-c="575">Lexington West -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Louisville ,GA" data-c="575">Louisville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Walton ,GA" data-c="600">Walton -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Birmingham ,GA" data-c="450">Birmingham -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Dothan ,GA" data-c="425">Dothan -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Mobile (Eight Mile),GA" data-c="425">Mobile (Eight Mile)-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location=" Mobile South ,GA" data-c="425"> Mobile South -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Montgomery ,GA" data-c="425">Montgomery -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Tanner ,GA" data-c="450">Tanner -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Atlanta ,GA" data-c="325">Atlanta -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Atlanta North ,GA" data-c="350">Atlanta North -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Atlanta South ,GA" data-c="325">Atlanta South -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Atlanta West ,GA" data-c="325">Atlanta West -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Cartersville ,GA" data-c="350">Cartersville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Fairburn ,GA" data-c="350">Fairburn -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Macon ,GA" data-c="300">Macon -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Savannah ,GA" data-c="200">Savannah -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Tifton ,GA" data-c="300">Tifton -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Fort Pierce ,GA" data-c="400">Fort Pierce -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Jacksonville (North - Copart) ,GA" data-c="275">Jacksonville (North - Copart) -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Miami ,GA" data-c="400">Miami -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Miami North ,GA" data-c="400">Miami North -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Miami South,GA" data-c="400">Miami South-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location=" Ocala ,GA" data-c="350"> Ocala -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Orlando ,GA" data-c="375">Orlando -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Orlando North,GA" data-c="375">Orlando North-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location=" Punta Gorda ,GA" data-c="375"> Punta Gorda -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Punta Gorda South ,GA" data-c="400">Punta Gorda South -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Tallahassee ,GA" data-c="375">Tallahassee -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Tampa South ,GA" data-c="375">Tampa South -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="West Palm Beach ,GA" data-c="400">West Palm Beach -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="China Grove ,GA" data-c="375">China Grove -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Concord ,GA" data-c="375">Concord -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Gastonia ,GA" data-c="375">Gastonia -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Lumberton ,GA" data-c="350">Lumberton -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Mebane ,GA" data-c="375">Mebane -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Mocksville ,GA" data-c="350">Mocksville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Raleigh ,GA" data-c="350">Raleigh -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Raleigh North ,GA" data-c="350">Raleigh North -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Charleston North ,GA" data-c="275">Charleston North -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Columbia ,GA" data-c="275">Columbia -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Spartanburg ,GA" data-c="325">Spartanburg -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Knoxville ,GA" data-c="475">Knoxville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Memphis ,GA" data-c="525">Memphis -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Nashville ,GA" data-c="475">Nashville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Columbia ,GA" data-c="650">Columbia -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Sikeston ,GA" data-c="650">Sikeston -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Springfield ,GA" data-c="650">Springfield -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="St. Louis ,GA" data-c="625">St. Louis -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Columbia ,GA" data-c="650">Columbia -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Jackson,GA" data-c="475">Jackson-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Fayetteville ,TX" data-c="550">Fayetteville -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Little Rock ,TX" data-c="500">Little Rock -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Kansas City ,TX" data-c="600">Kansas City -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Wichita ,TX" data-c="550">Wichita -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Baton Rouge ,TX" data-c="425">Baton Rouge -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="New Orleans ,TX" data-c="425">New Orleans -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Shreveport ,TX" data-c="400">Shreveport -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Oklahoma City ,TX" data-c="475">Oklahoma City -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Tulsa ,TX" data-c="525">Tulsa -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Abilene ,TX" data-c="450">Abilene -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Amarillo ,TX" data-c="475">Amarillo -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Andrews ,TX" data-c="500">Andrews -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Austin ,TX" data-c="325">Austin -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Corpus Christi ,TX" data-c="350">Corpus Christi -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Crashedtoys Dallas ,TX" data-c="375">Crashedtoys Dallas -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Dallas ,TX" data-c="375">Dallas -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Dallas South ,TX" data-c="350">Dallas South -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="El Paso ,TX" data-c="525">El Paso -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Fort Worth ,TX" data-c="325">Fort Worth -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Houston ,TX" data-c="200">Houston -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Houston East ,TX" data-c="200">Houston East -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Longview ,TX" data-c="350">Longview -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Lufkin ,TX" data-c="300">Lufkin -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="McAllen ,TX" data-c="375">McAllen -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="San Antonio (South) ,TX" data-c="350">San Antonio (South) -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Waco ,TX" data-c="325">Waco -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Colorado Springs ,TX" data-c="700">Colorado Springs -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Denver ,TX" data-c="650">Denver -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Denver Central ,TX" data-c="700">Denver Central -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Denver South,TX" data-c="700">Denver South-TX</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Phoenix ,CA" data-c="425">Phoenix -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Tucson ,CA" data-c="425">Tucson -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Adelanto,CA" data-c="300">Adelanto-CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location=" Antelope ,CA" data-c="450"> Antelope -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Bakersfield ,CA" data-c="300">Bakersfield -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Fresno ,CA" data-c="350">Fresno -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Hayward ,CA" data-c="450">Hayward -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Long Beach ,CA" data-c="200">Long Beach -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Los Angeles ,CA" data-c="200">Los Angeles -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Martinez ,CA" data-c="450">Martinez -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Rancho Cucamonga ,CA" data-c="225">Rancho Cucamonga -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Redding ,CA" data-c="600">Redding -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Sacramento ,CA" data-c="425">Sacramento -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="San Bernardino ,CA" data-c="250">San Bernardino -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="San Diego ,CA" data-c="300">San Diego -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="San Jose ,CA" data-c="450">San Jose -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="South Sacramento ,CA" data-c="450">South Sacramento -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Sun Valley ,CA" data-c="250">Sun Valley -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Vallejo ,CA" data-c="475">Vallejo -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Van Nuys ,CA" data-c="225">Van Nuys -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--copart" data-location="Albuquerque,CA" data-c="650">Albuquerque-CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Avenel ,NJ" data-c="225">Avenel -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Central New Jersey ,NJ" data-c="225">Central New Jersey -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Englishtown ,NJ" data-c="225">Englishtown -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Port Murray ,NJ" data-c="250">Port Murray -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Sayreville ,NJ" data-c="225">Sayreville -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Southern New Jersey ,NJ" data-c="275">Southern New Jersey -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Altoona ,NJ" data-c="450">Altoona -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Bridgeport ,NJ" data-c="275">Bridgeport -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Erie ,NJ" data-c="525">Erie -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Philadelphia ,NJ" data-c="300">Philadelphia -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Pittsburgh ,NJ" data-c="475">Pittsburgh -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Pittsburgh North ,NJ" data-c="475">Pittsburgh North -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Scranton ,NJ" data-c="325">Scranton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="York Springs ,NJ" data-c="325">York Springs -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Baltimore ,NJ" data-c="325">Baltimore -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Dundalk ,NJ" data-c="350">Dundalk -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Laurel ,NJ" data-c="375">Laurel -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Metro DC ,NJ" data-c="325">Metro DC -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Boston-Shirley ,NJ" data-c="375">Boston-Shirley -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Taunton ,NJ" data-c="400">Taunton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Templeton ,NJ" data-c="375">Templeton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Hartford ,NJ" data-c="300">Hartford -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Hartford South ,NJ" data-c="300">Hartford South -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="New Castle ,NJ" data-c="325">New Castle -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Chicago North ,NJ" data-c="625">Chicago North -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Chicago South ,NJ" data-c="625">Chicago South -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Chicago West - Aurora,NJ" data-c="600">Chicago West - Aurora-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location=" Lincoln ,NJ" data-c="650"> Lincoln -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Specialty Division ,NJ" data-c="625">Specialty Division -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="St. Louis ,NJ" data-c="650">St. Louis -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Westchester ,NJ" data-c="650">Westchester -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Indianapolis ,NJ" data-c="600">Indianapolis -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Indianapolis South ,NJ" data-c="625">Indianapolis South -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="South Bend ,NJ" data-c="625">South Bend -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Davenport ,NJ" data-c="675">Davenport -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Des Moines ,NJ" data-c="700">Des Moines -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Clinton ,NJ" data-c="525">Clinton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Gorham ,NJ" data-c="500">Gorham -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Gray ,NJ" data-c="475">Gray -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Detroit ,NJ" data-c="600">Detroit -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Flint,NJ" data-c="600">Flint-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location=" Grand Rapids ,NJ" data-c="625"> Grand Rapids -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Saint Paul ,NJ" data-c="700">Saint Paul -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Manchester ,NJ" data-c="400">Manchester -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Albany ,NJ" data-c="325">Albany -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Buffalo ,NJ" data-c="525">Buffalo -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Long Island ,NJ" data-c="300">Long Island -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Newburgh ,NJ" data-c="300">Newburgh -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Rochester ,NJ" data-c="450">Rochester -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Syracuse ,NJ" data-c="375">Syracuse -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Akron-Canton ,NJ" data-c="525">Akron-Canton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Cincinnati ,NJ" data-c="500">Cincinnati -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Cincinnati South ,NJ" data-c="525">Cincinnati South -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Cleveland ,NJ" data-c="500">Cleveland -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Columbus ,NJ" data-c="500">Columbus -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Dayton ,NJ" data-c="525">Dayton -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Providence ,NJ" data-c="375">Providence -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Burlington,NJ" data-c="550">Burlington-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location=" Culpeper,NJ" data-c="400"> Culpeper-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="North Virginia ,NJ" data-c="375">North Virginia -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Pulaski ,NJ" data-c="475">Pulaski -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Richmond ,NJ" data-c="375">Richmond -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Roanoke ,NJ" data-c="475">Roanoke -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Suffolk ,NJ" data-c="425">Suffolk -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Tidewater ,NJ" data-c="400">Tidewater -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Buckhannon ,NJ" data-c="575">Buckhannon -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Shady Spring ,NJ" data-c="575">Shady Spring -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Milwaukee ,NJ" data-c="650">Milwaukee -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Milwaukee North ,NJ" data-c="675">Milwaukee North -NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Portage,NJ" data-c="675">Portage-NJ</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Ashland ,GA" data-c="650">Ashland -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Bowling Green ,GA" data-c="625">Bowling Green -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Louisville ,GA" data-c="575">Louisville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Louisville North ,GA" data-c="600">Louisville North -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Paducah ,GA" data-c="625">Paducah -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Birmingham ,GA" data-c="450">Birmingham -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Dothan ,GA" data-c="425">Dothan -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Huntsville ,GA" data-c="475">Huntsville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Atlanta East ,GA" data-c="325">Atlanta East -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Atlanta North,GA" data-c="350">Atlanta North-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location=" Atlanta South,GA" data-c="325"> Atlanta South-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location=" Macon ,GA" data-c="300"> Macon -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Savannah ,GA" data-c="225">Savannah -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Clearwater ,GA" data-c="375">Clearwater -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Fort Myers ,GA" data-c="375">Fort Myers -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Fort Pierce ,GA" data-c="400">Fort Pierce -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Miami ,GA" data-c="375">Miami -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Orlando North,GA" data-c="375">Orlando North-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Pensacola ,GA" data-c="425">Pensacola -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Tampa ,GA" data-c="375">Tampa -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Tampa North ,GA" data-c="375">Tampa North -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="West Palm Beach ,GA" data-c="400">West Palm Beach -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Asheville,GA" data-c="425">Asheville-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location=" Charlotte ,GA" data-c="375"> Charlotte -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Greensboro ,GA" data-c="350">Greensboro -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Raleigh ,GA" data-c="350">Raleigh -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Wilmington ,GA" data-c="375">Wilmington -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Charleston ,GA" data-c="275">Charleston -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Greenville ,GA" data-c="350">Greenville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Lexington ,GA" data-c="275">Lexington -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Chattanooga ,GA" data-c="475">Chattanooga -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Knoxville ,GA" data-c="475">Knoxville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Nashville ,GA" data-c="475">Nashville -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Kansas City East,GA" data-c="700">Kansas City East-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Springfield ,GA" data-c="625">Springfield -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Kansas City East ,GA" data-c="675">Kansas City East -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Grenada ,GA" data-c="550">Grenada -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Gulf Coast ,GA" data-c="500">Gulf Coast -GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Jackson,GA" data-c="475">Jackson-GA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Fayetteville,TX" data-c="525">Fayetteville-TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location=" Little Rock ,TX" data-c="500"> Little Rock -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Wichita ,TX" data-c="575">Wichita -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Baton Rouge ,TX" data-c="400">Baton Rouge -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Lafayette ,TX" data-c="375">Lafayette -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="New Orleans ,TX" data-c="425">New Orleans -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="New Orleans East ,TX" data-c="425">New Orleans East -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Shreveport ,TX" data-c="375">Shreveport -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Oklahoma City ,TX" data-c="475">Oklahoma City -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Austin ,TX" data-c="325">Austin -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="El Paso ,TX" data-c="500">El Paso -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Fort Worth,TX" data-c="350">Fort Worth-TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Fort Worth North ,TX" data-c="350"> Fort Worth North -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Houston ,TX" data-c="225">Houston -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Houston North ,TX" data-c="225">Houston North -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Houston South ,TX" data-c="225">Houston South -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Longview ,TX" data-c="325">Longview -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Lubbock ,TX" data-c="525">Lubbock -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="McAllen ,TX" data-c="400">McAllen -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Permian Basin ,TX" data-c="475">Permian Basin -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Colorado Springs ,TX" data-c="675">Colorado Springs -TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Denver East,TX" data-c="700">Denver East-TX</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Phoenix ,CA" data-c="400">Phoenix -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Tucson ,CA" data-c="425">Tucson -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Anaheim ,CA" data-c="250">Anaheim -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Carson ,CA" data-c="225">Carson -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Colton ,CA" data-c="250">Colton -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="East Bay ,CA" data-c="425">East Bay -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Fontana,CA" data-c="250">Fontana-CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location=" Fremont ,CA" data-c="425"> Fremont -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Fresno,CA" data-c="375">Fresno-CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location=" High Desert ,CA" data-c="275"> High Desert -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Los Angeles South ,CA" data-c="200">Los Angeles South -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="North Hollywood ,CA" data-c="250">North Hollywood -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Perris ,CA" data-c="275">Perris -CA</li>
                              <li class="calc__delivery-item calc__delivery-item--iaai calc__delivery-item--hide" data-location="Sacramento,CA" data-c="425">Sacramento-CA</li>
                      </ul>
                        </div>
                    </div>
                </div>
                </div>

                <input type="submit" value="Calculate the cost" class="calc__btn">
                 <input type="hidden" class="calc__dependence-inp" name="dependence-inp" value="">
            </form>
        </div>

        <div class="calc__right">
            <div class="calc__title">
                {{ section.settings.title_right_block }}
            </div>
            <div class="calc__calculation">
                <div class="calc__calculation-content">
                    <div class="calc__calculation-item">
                        <p class="calc__calculation-label">Аукціонний збір:</p>
                        <span class="calc__calculation-price calc__auction-fee-price">0 $</span>
                    </div>
                    <div class="calc__calculation-item">
                        <p class="calc__calculation-label">Доставка по США:</p>
                        <span class="calc__calculation-price calc__delivery-usa-price">0 $</span>
                    </div>
                    <div class="calc__calculation-item">
                        <p class="calc__calculation-label">Доставка з США:<span class="calc__delivery-from-usa-location"></span></p>
                        <span class="calc__calculation-price calc__delivery-from-usa-price">0 $</span>
                    </div>
                    <div class="calc__calculation-item">
                        <p class="calc__calculation-label">Відвантаження з порту Клайпеда:</p>
                        <span class="calc__calculation-price calc__shipping-klaip-price">0 $</span>
                    </div>
                    <div class="calc__calculation-item">
                        <p class="calc__calculation-label">Доставка Клайпеда - Львів:</p>
                        <span class="calc__calculation-price calc__delivery-klaip-lviv-price">0 $</span>
                    </div>
                        <div class="calc__calculation-item">
                            <p class="calc__calculation-label">Проходження кордону та спецтранспорт:</p>
                            <span class="calc__calculation-price calc__crossing-the-border-price">0 $</span>
                        </div>
                        {% comment %} <div class="calc__calculation-item">
                            <p class="calc__calculation-label">Документи</p>
                            <span class="calc__calculation-price calc__international-documents-price">0 $</span>
                        </div> {% endcomment %}
                        <div class="calc__calculation-item">
                            <p class="calc__calculation-label">Погрузка в Литві</p>
                            <span class="calc__calculation-price calc__car-loading-in-lithuania-price">0 $</span>
                        </div>
                    <div class="calc__calculation-item">
                        <p class="calc__calculation-label">Акциз:</p>
                        <span class="calc__calculation-price calc__excise-price">0 $</span>
                    </div>
                    <div class="calc__calculation-item">
                        <p class="calc__calculation-label">Ввізне мито:</p>
                        <span class="calc__calculation-price calc__import-duty-price">0 $</span>
                    </div>
                    <div class="calc__calculation-item">
                        <p class="calc__calculation-label">ПДВ:</p>
                        <span class="calc__calculation-price calc__vat-price">0 $</span>
                    </div>
                        <div class="calc__calculation-item">
                            <p class="calc__calculation-label">Брокерські послуги:</p>
                            <span class="calc__calculation-price calc__brokerage-services-price">0 $</span>
                        </div>
                        <div class="calc__calculation-item">
                            <p class="calc__calculation-label">Комісія AtlasAuto:</p>
                            <span class="calc__calculation-price calc__atlas-commission-price">0 $</span>
                        </div>
                    <div class="calc__calculation-item calc__calculation-item--dependence calc__calculation-item--hidden">
                        <p class="calc__calculation-label">Небезпечний вантаж:</p>
                        <span class="calc__calculation-price calc__dangerous-goods-price">0 $</span>
                    </div>
                    <div class="calc__calculation-item calc__calculation-item--dependence calc__calculation-item--hidden">
                        <p class="calc__calculation-label">Фінансова гарантія:</p>
                        <span class="calc__calculation-price calc__financial-guarantee-price">0 $</span>
                    </div>
                    <div class="calc__calculation-item calc__calculation-item--total">
                        <h5 class="calc__calculation-total-label">Всього:</h5>
                        <span class="calc__calculation-total-price">50 $</span>
                    </div>
                </div>
                <div class="calc__calculation-note">
                    <p class="calc__calculation-note-text">{{ section.settings.calculation_note }}</p>
                </div>
            </div>
        </div>
    </div>
    
</div>

<input type="hidden" class="calc__input" name="dangerous_goods" value="0" data-value="{{ section.settings.dangerous_goods }}">
<input type="hidden" class="calc__input" name="financial_guarantee" value="0" data-value="100">
<input type="hidden" class="calc__input" name="brokerage_services" value="{{ section.settings.brokerage_services }}">
<input type="hidden" class="calc__input" name="atlas_commission" value="{{ section.settings.atlas_commission | default: 600 }}">
<input type="hidden" class="calc__input" name="shipping_klaip" value="{{ section.settings.shipping_klaip }}">
<input type="hidden" class="calc__input" name="delivery_klaip_lviv" value="{{ section.settings.delivery_klaip_lviv }}">
<input type="hidden" class="calc__input" name="crossing_the_border" value="{{ section.settings.crossing_the_border }}">
<input type="hidden" class="calc__input" name="international_documents" value="{{ section.settings.international_documents }}">
<input type="hidden" class="calc__input" name="car_loading_in_lithuania" value="{{ section.settings.car_loading_in_lithuania }}">

<script>
(function() {
  'use strict';

  const API_BASE_URL = 'https://www.mdoffice.com.ua/api/api_paid.auto';
  const API_KEY = {{ section.settings.api_key | json }};

  // Utility functions
  function $(selector, context = document) {
    return context.querySelector(selector);
  }

  function $$(selector, context = document) {
    return Array.from(context.querySelectorAll(selector));
  }

  function ready(fn) {
    if (document.readyState !== 'loading') {
      fn();
    } else {
      document.addEventListener('DOMContentLoaded', fn);
    }
  }

  // Auction: Copart = auction-min 260, IAAI = 320
  function getSelectedAuction() {
    const minInput = $('input[name="auction-min"]');
    const val = minInput?.value || '260';
    return val === '320' ? 'iaai' : 'copart';
  }

  // IAAI Standard Volume Fee table (Licensed Low). Fee = table value + 300. $15k+ = 7.5% + 300.
  //old iaai tarifs
  {% comment %} const IAAI_BRACKETS = [
    [50, 25], [100, 45], [200, 80], [300, 130], [350, 137.5], [400, 145], [450, 175], [500, 185],
    [550, 205], [600, 210], [700, 240], [800, 270], [900, 295], [1000, 320], [1200, 375], [1300, 395],
    [1400, 410], [1500, 430], [1600, 445], [1700, 465], [1800, 485], [2000, 510], [2400, 535],
    [2500, 570], [3000, 610], [3500, 655], [4000, 705], [4500, 725], [5000, 750], [5500, 775],
    [6000, 800], [6500, 825], [7000, 845], [7500, 880], [8000, 900], [8500, 925], [10000, 945], [15000, 1000]
  ]; 
    function getIAAIFee(amt) {
    if (amt >= 15000) return Math.round(amt * 0.075 * 100) / 100 + 300;
    for (let i = 0; i < IAAI_BRACKETS.length; i++) {
      if (amt < IAAI_BRACKETS[i][0]) return IAAI_BRACKETS[i][1] + 300;
    }
    return 1000 + 300;
  }
  {% endcomment %}
const IAAI_BRACKETS = [
    [50, 1], [100, 1], [200, 25], [300, 50], [350, 75], [400, 75], [450, 110], [500, 110],
    [550, 125], [600, 130], [700, 140], [800, 155], [900, 170], [1000, 185], [1200, 200], [1300, 225],
    [1400, 240], [1500, 250], [1600, 260], [1700, 275], [1800, 285], [2000, 300], [2400, 325],
    [2500, 335], [3000, 350], [3500, 400], [4000, 455], [4500, 600], [5000, 625], [5500, 625],
    [6000, 625], [6500, 675], [7000, 675], [7500, 675], [8000, 690], [8500, 715], [9000, 715],
    [10000, 715], [10500, 720], [11000, 720], [11500, 720], [12000, 720], [12500, 720], [15000, 720]
  ];
  function getIAAIFee(amt) {
     if (amt >= 15000) return Math.round(amt * 0.0575 * 100) / 100 + 300;
    for (let i = 0; i < COPART_BRACKETS.length; i++) {
      if (amt < COPART_BRACKETS[i][0]) return COPART_BRACKETS[i][1] + 300;
    }
    return 720 + 300;
  }

  // Copart Clean Title fee table (Final Bid Price). Fee = table value + 300. $15k+ = 5.75% + 300.
  const COPART_BRACKETS = [
    [50, 1], [100, 1], [200, 25], [300, 50], [350, 75], [400, 75], [450, 110], [500, 110],
    [550, 125], [600, 130], [700, 140], [800, 155], [900, 170], [1000, 185], [1200, 200], [1300, 225],
    [1400, 240], [1500, 250], [1600, 260], [1700, 275], [1800, 285], [2000, 300], [2400, 325],
    [2500, 335], [3000, 350], [3500, 400], [4000, 455], [4500, 600], [5000, 625], [5500, 625],
    [6000, 625], [6500, 675], [7000, 675], [7500, 675], [8000, 690], [8500, 715], [9000, 715],
    [10000, 715], [10500, 720], [11000, 720], [11500, 720], [12000, 720], [12500, 720], [15000, 720]
  ];

  function getCopartFee(amt) {
    if (amt >= 15000) return Math.round(amt * 0.0575 * 100) / 100 + 300;
    for (let i = 0; i < COPART_BRACKETS.length; i++) {
      if (amt < COPART_BRACKETS[i][0]) return COPART_BRACKETS[i][1] + 300;
    }
    return 720 + 300;
  }

  // Calculate tax (auction fee): Copart = getCopartFee; IAAI = getIAAIFee (table + 300)
  function calculateTax(amount) {
    const amt = parseFloat(amount) || 0;
    const auction = getSelectedAuction();
    return auction === 'iaai' ? getIAAIFee(amt) : getCopartFee(amt);
  }

  function getYear(year) {
    const date = new Date();
    const ageDiff = date.getFullYear() - parseInt(year);
    if (ageDiff === 0) return 0;
    if (ageDiff > 0 && ageDiff <= 5) return 1;
    if (ageDiff > 5) return 2;
    return 0;
  }

  function portCalculation(port) {
    const portMap = {
      'NJ':800,
      'TX':1000,
      'GA':800,
      'CA': 1500, 
      'HOU': 1000,
      'LA': 1575,
      'SEATLE': 1875,
      'NY': 850,
      'CHI': 1000,
      'SAV': 850,
      'MIA': 900,
      'MON-CA': 1300
    };
    const price = portMap[port] || 0;
    const priceEl = $('.calc__delivery-from-usa-price');
    if (priceEl) {
      priceEl.textContent = price.toLocaleString() + ' $';
    }
  }

  function dynamicCalculation() {
    const dependenceVal = $('.calc__dependence-inp')?.value || '';
    const dependenceItems = $$('.calc__calculation-item--dependence');
    const dangerousGoodsInput = $('input[name="dangerous_goods"]');
    const financialGuaranteeInput = $('input[name="financial_guarantee"]');

    if (dependenceVal === 'motor-3-4') {
      dependenceItems.forEach(item => item.classList.remove('calc__calculation-item--hidden'));
      if (dangerousGoodsInput) dangerousGoodsInput.value = dangerousGoodsInput.dataset.value || '0';
      if (financialGuaranteeInput) financialGuaranteeInput.value = financialGuaranteeInput.dataset.value || '0';
    } else if (dependenceVal === 'motor-0-2' || dependenceVal === 'motor-0-3') {
      dependenceItems.forEach(item => item.classList.add('calc__calculation-item--hidden'));
      const dangerousItem = $('.calc__calculation-item--dependence-dangerous');
      if (dangerousItem) dangerousItem.classList.remove('calc__calculation-item--hidden');
      if (dangerousGoodsInput) dangerousGoodsInput.value = dangerousGoodsInput.dataset.value || '0';
    } else {
      dependenceItems.forEach(item => item.classList.add('calc__calculation-item--hidden'));
      if (dangerousGoodsInput) dangerousGoodsInput.value = '0';
      if (financialGuaranteeInput) financialGuaranteeInput.value = '0';
    }

    let shouldCallMdOfficeCalculation = false;
    const inputs = $$('.calc__input');

    inputs.forEach(input => {
      const inputValue = input.value;
      const inputName = input.name;

      if (inputValue !== '') {
        if (inputName === 'delivery_in_the_usa') {
          const textEl = $('.calc__delivery-usa-price');
          if (textEl) textEl.textContent = inputValue + ' $';
        } else if (inputName === 'delivery_from_the_usa') {
          const port = inputValue.split(',');
          if (port[1]) portCalculation(port[1]);
          const textEl = $('.calc__delivery-from-usa-location');
          if (textEl) textEl.textContent = inputValue;
        } else if (inputName === 'cost') {
          const textEl = $('.calc__auction-fee-price');
          if (textEl) textEl.textContent = calculateTax(inputValue).toLocaleString() + ' $';
          shouldCallMdOfficeCalculation = true;
        } else if (['year', 'motor', 'capacity', 'battery_volume'].includes(inputName)) {
          shouldCallMdOfficeCalculation = true;
        } else if (inputName === 'auction-fee' || inputName === 'auction-min') {
          // auction-fee-price comes from calculateTax(cost), not from these inputs
        } else {
          const className = `.calc__${inputName.replace(/_/g, '-')}-price`;
          const textEl = $(className);
          if (textEl) textEl.textContent = inputValue + ' $';
        }
      }
    });

    let totalSum = 0;
    $$('.calc__calculation-price:not(.calc__calculation-total-price)').forEach(el => {
      const text = el.textContent;
      const numericValue = parseFloat(text.replace(/[^0-9.-]+/g, '')) || 0;
      totalSum += numericValue;
    });

    const costInput = $('.calc__cost');
    const cost = costInput?.value || '0';
    let formattedTotalSum;

    if (cost) {
      formattedTotalSum = (parseInt(cost) + totalSum).toLocaleString();
    } else {
      formattedTotalSum = totalSum.toLocaleString();
    }

    const totalPriceEl = $('.calc__calculation-total-price');
    if (totalPriceEl) {
      totalPriceEl.textContent = formattedTotalSum + ' $';
    }

    if (shouldCallMdOfficeCalculation) {
      mdOfficeCalculation();
    }
  }

  function mdOfficeCalculation() {
    const costInput = $('.calc__cost');
    const yearInput = $('input[name="year"]');
    const motorInput = $('input[name="motor"]');
    const capacityInput = $('input[name="capacity"]');
    const batteryVolume = $('input[name="battery_volume"]');

    if (!costInput?.value || !yearInput?.value || !motorInput?.value || (!capacityInput?.value && !batteryVolume?.value)) {
      return;
    }

    const motor = motorInput.value;
    const capacity = motor === '3' ? batteryVolume.value : (parseFloat(capacityInput.value) * 1000);
    const cost = costInput.value;
    const costNum = parseInt(cost) + calculateTax(cost) + 2000;
    const user = 0;
    const year = motor === '3' ? new Date().getFullYear() : yearInput.value;
    const age = getYear(year);
    const currency = 'USD';

    const queryString = `motor=${motor}&capacity=${capacity}&cost=${costNum}&user=${user}&year=${year}&currency=${currency}&age=${age}&key=${API_KEY}`;
    const fullUrl = `${API_BASE_URL}?${queryString}`;

    fetch(fullUrl)
      .then(response => response.json())
      .then(data => {
        const curDollar = data.currency_value;
        const exciseEl = $('.calc__excise-price');
        if (exciseEl) {
          exciseEl.textContent = Math.round(data.payments['2'].sum_value / curDollar).toLocaleString() + ' $';
        }

        const vatEl = $('.calc__vat-price');
        const importDutyEl = $('.calc__import-duty-price');

        if (motor === '3') {
          if (vatEl) vatEl.textContent = '0 $';
          if (importDutyEl) importDutyEl.textContent = '0 $';
        } else {
          if (vatEl) vatEl.textContent = Math.round(data.payments['3'].sum_value / curDollar).toLocaleString() + ' $';
          if (importDutyEl) importDutyEl.textContent = Math.round(data.payments['1'].sum_value / curDollar).toLocaleString() + ' $';
        }

        let totalSum = 0;
        $$('.calc__calculation-price:not(.calc__calculation-total-price)').forEach(el => {
          const text = el.textContent;
          const numericValue = parseFloat(text.replace(/[^0-9.-]+/g, '')) || 0;
          totalSum += numericValue;
        });

        const cost = costInput.value || '0';
        const formattedTotalSum = (parseInt(cost) + totalSum).toLocaleString();
        const totalPriceEl = $('.calc__calculation-total-price');
        if (totalPriceEl) {
          totalPriceEl.textContent = formattedTotalSum + ' $';
        }
      })
      .catch(error => {
        console.error('AJAX error:', error);
      });
  }

  ready(function() {
    // Initialize first selections
    const firstAuctionItem = $('.calc__auction-item');
    const firstDelItem = $('.calc__delivery-item--copart');
    
    if (firstAuctionItem) {
      setTimeout(() => {
        firstAuctionItem.click();
        if (firstDelItem) firstDelItem.click();
      }, 100);
    }

    const firstItemEng = $('.calc__dropdown-list[data-list="motor"] li[data-value="0"]');
    const motorToggle = $('.calc__dropdown-toggle--motor');
    const motorInput = $('input[name="motor"]');

    if (firstItemEng && motorToggle && motorInput) {
      motorToggle.classList.add('calc__dropdown-toggle--selected');
      motorToggle.textContent = firstItemEng.textContent;
      motorInput.value = firstItemEng.dataset.value;
    }

    // Auction item click
    $$('.calc__auction-item').forEach(item => {
      item.addEventListener('click', function() {
        const dataAuction = this.textContent.trim();
        const iaaiItems = $$('.calc__delivery-item--iaai');
        const copartItems = $$('.calc__delivery-item--copart');

        if (dataAuction === 'Сopart') {
          iaaiItems.forEach(el => el.classList.add('calc__delivery-item--hide'));
          copartItems.forEach(el => el.classList.remove('calc__delivery-item--hide'));
        } else {
          iaaiItems.forEach(el => el.classList.remove('calc__delivery-item--hide'));
          copartItems.forEach(el => el.classList.add('calc__delivery-item--hide'));
        }
      });
    });

    // Dropdown toggle
    $$('.calc__dropdown-toggle').forEach(toggle => {
      toggle.addEventListener('click', function(e) {
        e.stopPropagation();
        const container = this.closest('.calc__dropdown-container');
        const dropdownList = container?.querySelector('.calc__dropdown-list');
        const inputContainer = container?.querySelector('.calc__input-container');

        if (this.classList.contains('calc__dropdown-toggle--active')) {
          this.classList.remove('calc__dropdown-toggle--active');
          dropdownList?.classList.remove('calc__dropdown-list--active');
          inputContainer?.classList.remove('calc__input-container--active');
        } else {
          $$('.calc__dropdown-toggle').forEach(t => t.classList.remove('calc__dropdown-toggle--active'));
          $$('.calc__dropdown-list').forEach(l => l.classList.remove('calc__dropdown-list--active'));
          $$('.calc__input-container').forEach(c => c.classList.remove('calc__input-container--active'));

          this.classList.add('calc__dropdown-toggle--active');
          dropdownList?.classList.add('calc__dropdown-list--active');
          inputContainer?.classList.add('calc__input-container--active');
        }
      });
    });

    // Dropdown list item click
    $$('.calc__dropdown-list').forEach(list => {
      list.addEventListener('click', function(e) {
        if (e.target.tagName === 'LI') {
          e.stopPropagation();
          const li = e.target;
          const container = li.closest('.calc__dropdown-container');
          const trigger = container?.querySelector('.calc__dropdown-toggle');
          const hiddenInput = container?.querySelector('input[type="hidden"]');
          const selectedValue = li.dataset.value;

          if (trigger) {
            trigger.textContent = li.textContent;
            trigger.classList.remove('calc__dropdown-toggle--active');
            trigger.classList.add('calc__dropdown-toggle--selected');
          }

          container?.querySelector('.calc__dropdown-list')?.classList.remove('calc__dropdown-list--active');
          $$('.calc__input-container').forEach(c => c.classList.remove('calc__input-container--active'));

          if (selectedValue !== undefined && hiddenInput) {
            hiddenInput.value = selectedValue;
            dynamicCalculation();
          }
        }
      });
    });

    // Click outside to close dropdowns
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.calc__dropdown-container')) {
        $$('.calc__dropdown-toggle').forEach(t => t.classList.remove('calc__dropdown-toggle--active'));
        $$('.calc__dropdown-list').forEach(l => l.classList.remove('calc__dropdown-list--active'));
        $$('.calc__input-container').forEach(c => c.classList.remove('calc__input-container--active'));
      }
    });

    // Cost input
    const costInput = $('input[name="cost"]');
    if (costInput) {
      costInput.addEventListener('input', function(e) {
        dynamicCalculation();
        if (this.value.length > 6) {
          this.value = this.value.slice(0, 6);
        }
      });
    }

    // Battery volume input
    const batteryInput = $('input[name="battery_volume"]');
    if (batteryInput) {
      batteryInput.addEventListener('input', function() {
        dynamicCalculation();
      });
    }

    // Delivery autocomplete
    const deliveryAutocomplete = $('input[name="delivery_usa_input_autocomplete"]');
    if (deliveryAutocomplete) {
      let optionSelected = false;

      deliveryAutocomplete.addEventListener('input', function() {
        const errorMsg = this.nextElementSibling;
        if (errorMsg) errorMsg.classList.remove('calc__error-msg--active');
        this.classList.remove('calc__input--error');

        const searchText = this.value.toLowerCase();
        $$('.calc__delivery-item:not(.calc__delivery-item--hide)').forEach(item => {
          const location = (item.dataset.location || '').toLowerCase();
          if (location.includes(searchText)) {
            item.classList.remove('calc__delivery-item--autocomplete-hide');
          } else {
            item.classList.add('calc__delivery-item--autocomplete-hide');
          }
        });
      });

      deliveryAutocomplete.addEventListener('click', function() {
        this.dataset.placeholder = this.value;
        this.value = '';
      });

      deliveryAutocomplete.addEventListener('keydown', function(e) {
        if (e.keyCode === 13) {
          const selectedOption = $('.calc__delivery-item:not(.calc__delivery-item--autocomplete-hide):not(.calc__delivery-item--hide)');
          if (selectedOption) {
            selectedOption.click();
            optionSelected = true;
          }
        }
      });

      deliveryAutocomplete.addEventListener('blur', function() {
        if (!optionSelected) {
          this.classList.add('calc__input--error');
          const errorMsg = this.nextElementSibling;
          if (errorMsg) errorMsg.classList.add('calc__error-msg--active');
        }
        optionSelected = false;
      });
    }

    // Capacity autocomplete
    const capacityAutocomplete = $('input[name="capacity-toggle-input"]');
    if (capacityAutocomplete) {
      let optionSelected = false;

      capacityAutocomplete.addEventListener('input', function(e) {
        const errorMsg = this.nextElementSibling;
        if (errorMsg) errorMsg.classList.remove('calc__error-msg--active');
        this.classList.remove('calc__input--error');

        let inputValue = this.value.replace(/[^0-9.]/g, '');
        this.value = inputValue;

        const searchText = inputValue.toLowerCase();
        $$('.calc__capacity-toggle-li').forEach(item => {
          const data = (item.dataset.value || '').toString().toLowerCase();
          if (data.includes(searchText)) {
            item.classList.remove('calc__delivery-item--autocomplete-hide');
          } else {
            item.classList.add('calc__delivery-item--autocomplete-hide');
          }
        });
      });

      capacityAutocomplete.addEventListener('keydown', function(e) {
        if (e.keyCode === 13) {
          const selectedOption = $('.calc__capacity-toggle-li:not(.calc__delivery-item--autocomplete-hide)');
          if (selectedOption) {
            selectedOption.click();
            optionSelected = true;
          }
        }
      });

      capacityAutocomplete.addEventListener('blur', function() {
        if (!optionSelected) {
          this.classList.add('calc__input--error');
          const errorMsg = this.nextElementSibling;
          if (errorMsg) errorMsg.classList.add('calc__error-msg--active');
        }
        optionSelected = false;
      });
    }

    // Capacity toggle li click
    $$('.calc__capacity-toggle-li').forEach(item => {
      item.addEventListener('click', function() {
        const value = this.dataset.value;
        const input = $('input[name="capacity-toggle-input"]');
        const hiddenInput = $('input[name="capacity"]');
        if (input) {
          input.value = value;
          input.classList.remove('calc__input--error');
          const errorMsg = input.nextElementSibling;
          if (errorMsg) errorMsg.classList.remove('calc__error-msg--active');
        }
        if (hiddenInput) hiddenInput.value = value;
      });
    });

    // Engine type change
    $$('.calc__dropdown-list[data-list="motor"] li').forEach(item => {
      item.addEventListener('click', function() {
        const newValue = this.dataset.value;
        const dependenceValue = this.dataset.id;
        const dependenceInput = $('.calc__dependence-inp');
        const engineTypeInput = $('[name="motor"]');
        const batteryVolumeInput = $('#battery-volume');
        const capacityToggle = $('.calc__capacity-toggle');
        const capacityInput = $('input[name="capacity"]');

        if (dependenceInput) dependenceInput.value = dependenceValue || '';
        if (engineTypeInput) engineTypeInput.value = newValue;

        if (newValue === '3') {
          if (batteryVolumeInput) {
            batteryVolumeInput.disabled = false;
            batteryVolumeInput.removeAttribute('disabled');
          }
          if (capacityToggle) {
            capacityToggle.classList.add('calc__capacity-toggle--disabled');
            capacityToggle.textContent = '---';
          }
          if (capacityInput) {
            capacityInput.value = '';
            capacityInput.classList.add('calc__input--disabled');
          }
        } else {
          if (batteryVolumeInput) {
            batteryVolumeInput.value = '';
            batteryVolumeInput.disabled = true;
          }
          if (capacityToggle) {
            capacityToggle.classList.remove('calc__capacity-toggle--disabled');
          }
          if (capacityInput) {
            capacityInput.classList.remove('calc__input--disabled');
          }
        }
      });
    });

    // Initial engine type check
    const engineTypeInput = $('[name="motor"]');
    const batteryVolumeInput = $('#battery-volume');
    if (engineTypeInput && batteryVolumeInput) {
      const initialEngineType = parseInt(engineTypeInput.value);
      if (initialEngineType !== 3) {
        batteryVolumeInput.disabled = true;
      } else {
        batteryVolumeInput.disabled = false;
      }
    }

    // Delivery item click
    let deliveryClickCount = 0;
    let shouldCallDynamicCalculation = false;

    $$('.calc__delivery-item').forEach(item => {
      item.addEventListener('click', function() {
        deliveryClickCount++;
        const cValue = this.dataset.c;
        const locationValue = this.dataset.location;
        const autocompleteInput = $('input[name="delivery_usa_input_autocomplete"]');
        const deliveryInUsaInput = $('input[name="delivery_in_the_usa"]');
        const deliveryFromUsaInput = $('input[name="delivery_from_the_usa"]');

        if (autocompleteInput) {
          autocompleteInput.classList.remove('calc__input--error');
          const errorMsg = autocompleteInput.nextElementSibling;
          if (errorMsg) errorMsg.classList.remove('calc__error-msg--active');
        }

        if (deliveryInUsaInput) deliveryInUsaInput.value = cValue || '';
        if (deliveryFromUsaInput) deliveryFromUsaInput.value = locationValue || '';
        if (autocompleteInput) autocompleteInput.value = locationValue || '';

        if (deliveryClickCount === 2 || shouldCallDynamicCalculation) {
          dynamicCalculation();
          if (deliveryClickCount === 2) {
            shouldCallDynamicCalculation = true;
          }
        }
      });
    });

    // Type transport click
    $$('.calc__type-transport-li').forEach(item => {
      item.addEventListener('click', function() {
        $$('.calc__type-transport-li').forEach(li => li.classList.remove('calc__type-transport-li--selected'));
        this.classList.add('calc__type-transport-li--selected');
        const priceForTransp = this.dataset.priceTransport;
        const priceEl = $('.calc__delivery-klaip-lviv-price');
        if (priceEl && priceForTransp) {
          priceEl.textContent = priceForTransp + ' $';
        }
      });
    });

    // Auction item click
    let auctionClickCount = 0;
    let shouldCallAuctionDynamicCalculation = false;

    $$('.calc__auction-item').forEach(item => {
      item.addEventListener('click', function() {
        auctionClickCount++;
        const mValue = this.dataset.auctionMin;
        const cValue = this.dataset.auctionFee;
        const auctionFeeInput = $('input[name="auction-fee"]');
        const auctionMinInput = $('input[name="auction-min"]');

        if (auctionFeeInput) auctionFeeInput.value = cValue || '';
        if (auctionMinInput) auctionMinInput.value = mValue || '';

        if (auctionClickCount === 2 || shouldCallAuctionDynamicCalculation) {
          dynamicCalculation();
          if (auctionClickCount === 2) {
            shouldCallAuctionDynamicCalculation = true;
          }
        }
      });
    });

    // Form submit
    const form = $('#auto-calculator');
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();

        const inputData = {};
        let hasEmptyInputs = false;

        $$('input[type="text"], input[type="number"]:not([disabled]), input[type="hidden"]:not(.calc__input--disabled)').forEach(input => {
          const inputValue = input.value;
          const inputName = input.name;

          if (!inputValue) {
            input.classList.add('calc__input--empty');
            const dropdown = input.closest('.calc__dropdown');
            if (dropdown) {
              dropdown.querySelector('.calc__dropdown-toggle')?.classList.add('calc__dropdown-toggle--empty');
              dropdown.querySelector('.calc__dropdown-container')?.classList.add('calc__dropdown-container--empty');
            }
            const price = input.closest('.calc__price');
            if (price) price.classList.add('calc__price--empty');
            const range = input.closest('.calc__range');
            if (range) range.classList.add('calc__range--empty');
            hasEmptyInputs = true;
          } else {
            const dropdown = input.closest('.calc__dropdown');
            if (dropdown) {
              dropdown.querySelector('.calc__dropdown-toggle')?.classList.remove('calc__dropdown-toggle--empty');
              dropdown.querySelector('.calc__dropdown-container')?.classList.remove('calc__dropdown-container--empty');
            }
            const price = input.closest('.calc__price');
            if (price) price.classList.remove('calc__price--empty');
            const range = input.closest('.calc__range');
            if (range) range.classList.remove('calc__range--empty');
            input.classList.remove('calc__input--empty');
          }

          inputData[inputName] = inputValue;
        });

        if (hasEmptyInputs) {
          return;
        }

        const motor = inputData['motor'];
        const capacity = motor == 3 ? inputData['battery_volume'] : (inputData['capacity'] * 1000);
        const cost = inputData['cost'];
        const costNum = parseInt(inputData['cost']) + calculateTax(cost) + 2000;
        const user = 0;
        const year = motor == 3 ? new Date().getFullYear() : inputData['year'];
        const age = getYear(year);
        const currency = 'USD';

        const queryString = `motor=${motor}&capacity=${capacity}&cost=${costNum}&user=${user}&year=${year}&currency=${currency}&age=${age}&key=${API_KEY}`;
        const fullUrl = `${API_BASE_URL}?${queryString}`;

        fetch(fullUrl)
          .then(response => response.json())
          .then(data => {
            const curDollar = data.currency_value;
            const exciseEl = $('.calc__excise-price');
            if (exciseEl) {
              exciseEl.textContent = Math.round(data.payments['2'].sum_value / curDollar).toLocaleString() + ' $';
            }

            if (inputData['motor'] == 3) {
              const vatEl = $('.calc__vat-price');
              const importDutyEl = $('.calc__import-duty-price');
              if (vatEl) vatEl.textContent = '0 $';
              if (importDutyEl) importDutyEl.textContent = '0 $';
            } else {
              const vatEl = $('.calc__vat-price');
              const importDutyEl = $('.calc__import-duty-price');
              if (vatEl) vatEl.textContent = Math.round(data.payments['3'].sum_value / curDollar).toLocaleString() + ' $';
              if (importDutyEl) importDutyEl.textContent = Math.round(data.payments['1'].sum_value / curDollar).toLocaleString() + ' $';
            }

            const deliveryFromUsaLocationEl = $('.calc__delivery-from-usa-location');
            if (deliveryFromUsaLocationEl) deliveryFromUsaLocationEl.textContent = inputData['delivery_from_the_usa'];

            const auctionFeePriceEl = $('.calc__auction-fee-price');
            if (auctionFeePriceEl) auctionFeePriceEl.textContent = calculateTax(cost).toLocaleString() + ' $';

            const brokerageServicesEl = $('input[name="brokerage_services"]');
            const brokeragePriceEl = $('.calc__brokerage-services-price');
            if (brokerageServicesEl && brokeragePriceEl) {
              brokeragePriceEl.textContent = parseInt(brokerageServicesEl.value).toLocaleString() + ' $';
            }

            const atlasCommissionEl = $('input[name="atlas_commission"]');
            const commissionPriceEl = $('.calc__atlas-commission-price');
            if (atlasCommissionEl && commissionPriceEl) {
              commissionPriceEl.textContent = parseInt(atlasCommissionEl.value).toLocaleString() + ' $';
            }

            const shippingKlaipEl = $('input[name="shipping_klaip"]');
            const shippingKlaipPriceEl = $('.calc__shipping-klaip-price');
            if (shippingKlaipEl && shippingKlaipPriceEl) {
              shippingKlaipPriceEl.textContent = parseInt(shippingKlaipEl.value).toLocaleString() + ' $';
            }

            const selectedTransport = $('.calc__type-transport-li--selected');
            const deliveryKlaipLvivPriceEl = $('.calc__delivery-klaip-lviv-price');
            if (selectedTransport && deliveryKlaipLvivPriceEl) {
              deliveryKlaipLvivPriceEl.textContent = parseInt(selectedTransport.dataset.priceTransport).toLocaleString() + ' $';
            }

            const crossingBorderEl = $('input[name="crossing_the_border"]');
            const crossingBorderPriceEl = $('.calc__crossing-the-border-price');
            if (crossingBorderEl && crossingBorderPriceEl) {
              crossingBorderPriceEl.textContent = parseInt(crossingBorderEl.value).toLocaleString() + ' $';
            }

            const internationalDocumentsEl = $('input[name="international_documents"]');
            const documentsPriceEl = $('.calc__international-documents-price');
            if (internationalDocumentsEl && documentsPriceEl) {
              documentsPriceEl.textContent = parseInt(internationalDocumentsEl.value).toLocaleString() + ' $';
            }

            const carLoadingEl = $('input[name="car_loading_in_lithuania"]');
            const loadingLithuaniaPriceEl = $('.calc__car-loading-in-lithuania-price');
            if (carLoadingEl && loadingLithuaniaPriceEl) {
              loadingLithuaniaPriceEl.textContent = parseInt(carLoadingEl.value).toLocaleString() + ' $';
            }

            const deliveryInUsaPriceEl = $('.calc__delivery-usa-price');
            if (deliveryInUsaPriceEl) {
              deliveryInUsaPriceEl.textContent = parseInt(inputData['delivery_in_the_usa']).toLocaleString() + ' $';
            }

            const port = inputData['delivery_from_the_usa'].split(',');
            if (port[1]) portCalculation(port[1]);

            let totalSum = 0;
            $$('.calc__calculation-price:not(.calc__calculation-total-price)').forEach(el => {
              const text = el.textContent;
              const numericValue = parseFloat(text.replace(/[^0-9.-]+/g, '')) || 0;
              totalSum += numericValue;
            });

            const formattedTotalSum = (parseInt(cost) + totalSum).toLocaleString();
            const totalPriceEl = $('.calc__calculation-total-price');
            if (totalPriceEl) {
              totalPriceEl.textContent = formattedTotalSum + ' $';
            }
          })
          .catch(error => {
            console.error('AJAX error:', error);
          });
      });
    }

    // Initialize calculation with default values
    setTimeout(() => {
      // Set default values for hidden inputs display
      const hiddenInputs = {
        'brokerage_services': '.calc__brokerage-services-price',
        'atlas_commission': '.calc__atlas-commission-price',
        'shipping_klaip': '.calc__shipping-klaip-price',
        'crossing_the_border': '.calc__crossing-the-border-price',
        'international_documents': '.calc__international-documents-price',
        'car_loading_in_lithuania': '.calc__car-loading-in-lithuania-price'
      };

      Object.keys(hiddenInputs).forEach(inputName => {
        const input = $(`input[name="${inputName}"]`);
        const priceEl = $(hiddenInputs[inputName]);
        if (input && priceEl && input.value) {
          priceEl.textContent = parseInt(input.value).toLocaleString() + ' $';
        }
      });

      dynamicCalculation();
    }, 200);
  });
})();
</script>

{% schema %}
    {
        "name": "XC Calc",
        "class": "xc-calc padding-section",
        "tag": "section",
        "settings": [
            {
                "type": "text",
                "id": "title",
                "label": "Title left block",
                "default": "Вхідні дані"
            },
            {
                "type": "text",
                "id": "title_right_block",
                "label": "Title right block",
                "default": "Розрахунок"
            },
            {
              "type": "text",
              "id": "api_key",
              "label": "API Key",
              "default": "bOWWtrwfIHW5Ru2mVKZpq8C4KkkURtTs3fMTk5fo"
            },
            {
              "type": "header",
              "content": "Calcualtions"
            },
            {
              "type": "text",
              "id": "port_calculation",
              "label": "dangerous_goods",
              "default": "200"
            },
            {
              "type": "text",
              "id": "financial_guarantee",
              "label": "financial_guarantee",
              "default": "100"
            },
            {
              "type": "text",
              "id": "brokerage_services",
              "label": "brokerage_services",
              "default": "300"
            },
            {
              "type": "text",
              "id": "atlas_commission",
              "label": "atlas_commission",
              "default": "600"
            },
            {
              "type": "text",
              "id": "shipping_klaip",
              "label": "shipping_klaip",
              "default": "100"
            },
            {
              "type": "text",
              "id": "crossing_the_border",
              "label": "crossing_the_border",
              "default": "200"
            },
            {
              "type": "text",
              "id": "international_documents",
              "label": "international_documents",
              "default": "300"
            },
            {
              "type": "text",
              "id": "car_loading_in_lithuania",
              "label": "car_loading_in_lithuania",
              "default": "400"
            },
            {
              "type": "richtext",
              "id": "calculation_note",
              "label": "calculation_note",
              "default": "<p>Підсумкова вартість складається з вартості лота (включаючи збори і комісії), доставки авто до порту країни призначення і розмитнення. Розрахунки є попередніми. Залишить заявку нижче для отримання точного прорахунку.</p>"
            }
        ],
       
        "presets": [
            {
                "name": "XC Calc"
            }
        ]
    }
{% endschema %}
